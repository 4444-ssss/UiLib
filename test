local FGUI = game.Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("GUI")
if FGUI then
    FGUI:Destroy()
end

local plrs = game:GetService("Players")
local plr = plrs.LocalPlayer
local prop1000 = PhysicalProperties.new(1000,1000,0,1000,0)

local GUI = Instance.new("ScreenGui")
local Container = Instance.new("Frame")
local lbl = Instance.new("TextLabel")
local HolderPage = Instance.new("Frame")
local Line = Instance.new("Frame")
local Holder = Instance.new("Frame")
local TabsButtonsHolder = Instance.new("ScrollingFrame")
local UIGridLayoutTabs = Instance.new("UIGridLayout")
local str = Instance.new("UIStroke")

GUI.Name = "GUI"
GUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
GUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
GUI.ResetOnSpawn = false

Container.Name = "Container"
Container.Parent = GUI
Container.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Container.BorderSizePixel = 0
Container.Position = UDim2.new(0.11875, 0, 0.366828918, 0)
Container.Size = UDim2.new(0, 401, 0, 22)

lbl.Name = "lbl"
lbl.Parent = Container
lbl.BackgroundTransparency = 1
lbl.Position = UDim2.new(0, 0, 0, 0)
lbl.Size = UDim2.new(0, 401, 0, 21)
lbl.Font = Enum.Font.SourceSans
lbl.Text = "Made by RealN0xz (N0x) Version. 2.1"
lbl.TextColor3 = Color3.fromRGB(218, 218, 218)
lbl.TextSize = 25
lbl.TextWrapped = true
lbl.TextXAlignment = Enum.TextXAlignment.Left

HolderPage.Name = "HolderPage"
HolderPage.Parent = Container
HolderPage.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
HolderPage.BackgroundTransparency = 0.3
HolderPage.BorderSizePixel = 0
HolderPage.Position = UDim2.new(0, 0, 0.981572926, 0)
HolderPage.Size = UDim2.new(0, 401, 0, 244)

Line.Name = "Line"
Line.Parent = Container
Line.BackgroundColor3 = Color3.fromRGB(253, 27, 7)
Line.BorderSizePixel = 0
Line.Position = UDim2.new(0, 0, 0.981571555, 0)
Line.Size = UDim2.new(0, 401, 0, 1)

Holder.Name = "Holder"
Holder.Parent = GUI
Holder.BackgroundTransparency = 1
Holder.Position = UDim2.new(0, 0, 0.425938785, 0)
Holder.Size = UDim2.new(0, 93, 0, 167)

TabsButtonsHolder.Name = "TabsButtonsHolder"
TabsButtonsHolder.Parent = Holder
TabsButtonsHolder.Active = true
TabsButtonsHolder.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TabsButtonsHolder.BorderSizePixel = 0
TabsButtonsHolder.Size = UDim2.new(0, 93, 0, 167)
TabsButtonsHolder.ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0)
TabsButtonsHolder.ScrollBarThickness = 0

UIGridLayoutTabs.Parent = TabsButtonsHolder
UIGridLayoutTabs.SortOrder = Enum.SortOrder.LayoutOrder
UIGridLayoutTabs.CellPadding = UDim2.new(0, 0, 0, 0)
UIGridLayoutTabs.CellSize = UDim2.new(0, 93, 0, 24)

str.Name = "str"
str.Parent = Holder
str.Color = Color3.fromRGB(43, 43, 43)
str.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

local Lib = {}
local pages = {}
local currentPage = nil
local baseText = lbl.Text
local typingThread = nil
local typingDelay = 0.02

local function typeIntoLabel(text)
    if typingThread then task.cancel(typingThread) end
    typingThread = task.spawn(function()
        lbl.Text = ""
        for i = 1, #text do
            lbl.Text = string.sub(text, 1, i)
            task.wait(typingDelay)
        end
    end)
end

local function bindHover(guiObject, tipText)
    if not guiObject then return end
    if tipText and tipText ~= "" then
        guiObject.MouseEnter:Connect(function()
            typeIntoLabel(tipText)
        end)
        guiObject.MouseLeave:Connect(function()
            typeIntoLabel(baseText)
        end)
    end
end

local function switchTo(pageName)
    for name, pg in pairs(pages) do
        pg.Frame.Visible = (name == pageName)
        if pg.Button then
            pg.Button.TextColor3 = name == pageName and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(180, 180, 180)
        end
    end
    currentPage = pages[pageName]
    typeIntoLabel(pageName)
end

function Lib.AddPage(name, hovertip)
    local PageFrame = Instance.new("Frame")
    PageFrame.Name = name
    PageFrame.Parent = HolderPage
    PageFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    PageFrame.BackgroundTransparency = 1
    PageFrame.BorderSizePixel = 0
    PageFrame.Position = UDim2.new(0.017, 0, 0.029, 0)
    PageFrame.Size = UDim2.new(0, 387, 0, 203)
    PageFrame.Visible = false

    local grid = Instance.new("UIGridLayout")
    grid.Name = "Grid"
    grid.Parent = PageFrame
    grid.SortOrder = Enum.SortOrder.LayoutOrder
    grid.CellPadding = UDim2.new(0, 5, 0, 6)
    grid.CellSize = UDim2.new(0, 93, 0, 20)

    local pad = Instance.new("UIPadding")
    pad.Parent = PageFrame
    pad.PaddingBottom = UDim.new(0, 15)

    local TabButton = Instance.new("TextButton")
    TabButton.Name = "Tab_" .. name
    TabButton.Parent = TabsButtonsHolder
    TabButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    TabButton.BorderSizePixel = 0
    TabButton.Size = UDim2.new(0, 93, 0, 24)
    TabButton.Font = Enum.Font.SourceSans
    TabButton.Text = name
    TabButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    TabButton.TextScaled = true
    TabButton.TextWrapped = true

    local stroke = Instance.new("UIStroke")
    stroke.Parent = TabButton
    stroke.Color = Color3.fromRGB(52, 52, 52)
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

    TabButton.MouseButton1Click:Connect(function()
        switchTo(name)
    end)

    bindHover(TabButton, hovertip or "")

    local pageApi = {}
    pageApi.Frame = PageFrame
    pageApi.Button = TabButton

    function pageApi:AddToggle(text, default, callback, hovertipText)
        local Toggle = Instance.new("TextButton")
        Toggle.Name = "Toggle_" .. text
        Toggle.Parent = PageFrame
        Toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Toggle.BorderSizePixel = 0
        Toggle.Size = UDim2.new(0, 93, 0, 20)
        Toggle.Font = Enum.Font.SourceSans
        Toggle.Text = text
        Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
        Toggle.TextScaled = true
        Toggle.TextWrapped = true

        local UIStroke_3 = Instance.new("UIStroke")
        UIStroke_3.Parent = Toggle
        UIStroke_3.Color = Color3.fromRGB(52, 52, 52)
        UIStroke_3.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

        local check = Instance.new("Frame")
        check.Name = "check"
        check.Parent = Toggle
        check.BackgroundColor3 = (default and Color3.fromRGB(0, 177, 0)) or Color3.fromRGB(177, 0, 0)
        check.BorderSizePixel = 0
        check.Position = UDim2.new(0, 0, 1, 0)
        check.Size = UDim2.new(0, 93, 0, 1)

        local state = default and true or false
        local function set(v)
            state = v and true or false
            check.BackgroundColor3 = state and Color3.fromRGB(0, 177, 0) or Color3.fromRGB(177, 0, 0)
            if callback then task.spawn(callback, state) end
            typeIntoLabel((hovertipText or (text .. " toggle")) .. ": " .. (state and "On" or "Off"))
        end
        Toggle.MouseButton1Click:Connect(function()
            set(not state)
        end)

        bindHover(Toggle, hovertipText or "")
        return { Set = set, Get = function() return state end, Instance = Toggle }
    end

    function pageApi:AddButton(text, callback, hovertipText)
        local Button = Instance.new("TextButton")
        Button.Name = "Button_" .. text
        Button.Parent = PageFrame
        Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Button.BorderSizePixel = 0
        Button.Size = UDim2.new(0, 93, 0, 20)
        Button.Font = Enum.Font.SourceSans
        Button.Text = text
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextScaled = true
        Button.TextWrapped = true

        local UIStroke_2 = Instance.new("UIStroke")
        UIStroke_2.Parent = Button
        UIStroke_2.Color = Color3.fromRGB(43, 43, 43)
        UIStroke_2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

        Button.MouseButton1Click:Connect(function()
            if callback then task.spawn(callback) end
        end)

        bindHover(Button, hovertipText or "")
        return Button
    end

    function pageApi:AddBox(placeholderText, callbackOnFocusLost, hovertipText)
        local Box = Instance.new("TextBox")
        Box.Name = "Box_" .. (placeholderText or "Input")
        Box.Parent = PageFrame
        Box.BackgroundColor3 = Color3.fromRGB(21, 21, 21)
        Box.BackgroundTransparency = 0.2
        Box.BorderSizePixel = 0
        Box.Size = UDim2.new(0, 93, 0, 20)
        Box.Font = Enum.Font.SourceSans
        Box.PlaceholderColor3 = Color3.fromRGB(65, 65, 65)
        Box.PlaceholderText = placeholderText or "Box"
        Box.Text = ""
        Box.TextColor3 = Color3.fromRGB(107, 107, 107)
        Box.TextScaled = true
        Box.TextWrapped = true

        local UIStroke = Instance.new("UIStroke")
        UIStroke.Parent = Box
        UIStroke.Color = Color3.fromRGB(43, 43, 43)
        UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

        Box.FocusLost:Connect(function(enterPressed)
            if callbackOnFocusLost then task.spawn(callbackOnFocusLost, Box.Text, enterPressed) end
            typeIntoLabel(hovertipText or ("Input: " .. (Box.Text == "" and "(empty)" or Box.Text)))
        end)

        bindHover(Box, hovertipText or "")
        return Box
    end

    pages[name] = pageApi
    if not currentPage then switchTo(name) end
    return pageApi
end

local Main = Lib.AddPage("Main", "Show's Main Tab")

local connections = {}

local t1 = Main:AddToggle("AntiFIing", false, 
    function(state) 
        if state then
            connections["AntiFIing"] = workspace.DescendantAdded:Connect(function(child)
                if child.Name == 'Stabler' then
                    if child:WaitForChild('ConnectedWeld', 10).Part1:IsDescendantOf(plr.Character) then
                        child:Destroy()
                    end
                end
            end)
        else
            if connections["AntiFIing"] then
                connections["AntiFIing"]:Disconnect()
                connections["AntiFIing"] = nil
            end
        end
    end, 
    "Prevents from getting Flung"
)

local t2 = Main:AddToggle("AntiRagdoll", false, 
    function(state) 
        if state then
            connections["AntiRagdoll"] = plr.CharacterAdded:Connect(function(character)
                local ragdoll = character:WaitForChild("Ragdoll", 10)
                if ragdoll then
                    ragdoll:Destroy()
                end
            end)
        else
            if connections["AntiRagdoll"] then
                connections["AntiRagdoll"]:Disconnect()
                connections["AntiRagdoll"] = nil
            end
        end
    end, 
    "Prevents from Ragdolling"
)

local t3 = Main:AddToggle("NoFallDamage", false, 
    function(state) 
        if state then
            connections["NoFallDamage"] = plr.CharacterAdded:Connect(function()
                for _, v in next, plr.Character:GetChildren() do
                    if v.Name == 'VelocityDamage' or v.Name == 'Stabler' then
                        v:Destroy()
                    end
                end
            end)
        else
            if connections["NoFallDamage"] then
                connections["NoFallDamage"]:Disconnect()
                connections["NoFallDamage"] = nil
            end
        end
    end, 
    "FallDamage Won't Effect"
)


local t4 = Main:AddToggle("AntiSpinner", false, 
    function(state) 
        if state then
            Settings['AntiSpinner'] = true
            for _, part in next, plr.Character:GetChildren() do
                if part:IsA('BasePart') then
                    part.CustomPhysicalProperties = prop1000
                end
            end
        else
            Settings['AntiSpinner'] = false
            for _, part in next, plr.Character:GetChildren() do
                if part:IsA('BasePart') then
                    part.CustomPhysicalProperties = PhysicalProperties.new(0.3, 0.2, 0, 0.2, 0.2)
                end
            end
        end
    end, 
    "Prevents from getting flung by spinners"
)

local t5 = Main:AddToggle("AutoRespawn", false, 
    function(state) 
        if state then
            plr.CharacterAdded:Connect(function()
                repeat wait() until plr.Character:FindFirstChild("Humanoid")
                
                while true do
                    if plr.Character.Humanoid.Health <= 0 then
                        repeat wait() until plr.Character:FindFirstChild("HumanoidRootPart")
                        respawn()
                    end
                    wait(1)
                end
            end)
        else
        end
    end, 
    "AutoRespawns By its own"
)

local function respawn()
    pcall(function()
        local b = plr.PlayerGui.DeathMenu.Frame.Button.TextButton
        b.Position = UDim2.new(0, 0, 0, 0)
        b.Size = UDim2.new(1, 0, 1, 0)
        b.Text = ''
        b.BackgroundTransparency = 1
        b.ZIndex = (2^31-1)
        local s = Instance.new('ScreenGui', game:GetService('CoreGui'))
        b.Parent = s
        vim:SendMouseButtonEvent(b.AbsolutePosition.X + b.AbsoluteSize.X / 2, b.AbsolutePosition.Y + b.AbsoluteSize.Y / 2, 0, true, game, 0)
        vim:SendMouseButtonEvent(b.AbsolutePosition.X + b.AbsoluteSize.X / 2, b.AbsolutePosition.Y + b.AbsoluteSize.Y / 2, 0, false, game, 0)
        spawn(function()
            wait()
            s:Destroy()
        end)
    end)
end

local t6 = Main:AddToggle("MovementHack", false, 
    function(state) 
    end, 
    "Activates MovementHack let's you fly")

local t7 = Main:AddToggle("AntiVoid", false, 
    function(state) 
    end, 
    "Prevents from Dying when fall to void")

local t8 = Main:AddToggle("NoRagdollCD", false, 
    function(state) 
    end, 
    "Deletes Ragdoll Cooldown")

local t9 = Main:AddToggle("HiddenFIing", false, 
    function(state) 
    end, 
    "Makes your FIing/LoopFIing better")

local x1 = Main:AddBox("FIing", 
    function(text, enter) 
    end, 
    "FIings Target")

local x2 = Main:AddBox("FIingV2", 
    function(text, enter) 
    end, 
    "FIingsV2 Target")

local x3 = Main:AddBox("LoopFIing", 
    function(text, enter) 
    end, 
    "LoopFIings Target")

local x4 = Main:AddBox("LoopFIingV2", 
    function(text, enter) 
    end, 
    "LoopFIingsV2 Target")

local b1 = Main:AddButton("ClearLoop", 
    function() 
    end, 
    "Clears LoopFIings/FIings")

local t10 = Main:AddToggle("InfinitePunch", false, 
    function(state) 
    end, 
    "Gives InfinitePunch (E)")

local t11 = Main:AddToggle("NoClip", false, 
    function(state) 
    end, 
    "Gives you NoClip")

local x5 = Main:AddBox("SpinFIing", 
    function(text, enter) 
    end, 
    "SpinFIings Target")

local t12 = Main:AddToggle("AutoPunch", false, 
    function(state) 
    end, 
    "AutoPunches Players Automatically")

local t13 = Main:AddToggle("SuperPunch", false, 
    function(state) 
    end, 
    "Fake Punch And FIings (E)")

local t14 = Main:AddToggle("Virus", false, 
    function(state) 
    end, 
    "TouchFIing FIings Players you Touch")

local b2 = Main:AddButton("PermaGod", 
    function() 
    end, 
    "Gives PermaGod")

local Tools = Lib.AddPage("Tools", "Show's Tools Tab")

local x6 = Tools:AddBox("SelectPlayer", 
    function(text) 
    end, 
    "Selects a Target(s)")

local t15 = Tools:AddToggle("AnvilKill", false, 
    function(state) 
    end, 
    "AnvilKills Target(s)")

local t16 = Tools:AddToggle("AnvilKillAll", false, 
    function(state) 
    end, 
    "AnvilKills All Players")

local t17 = Tools:AddToggle("AnvilOrbit", false, 
    function(state) 
    end, 
    "Orbits Anvil When Thrown")

local t18 = Tools:AddToggle("FIingAnvils", false, 
    function(state) 
    end, 
    "FIings All Anvils")

local t19 = Tools:AddToggle("HideAnvil", false, 
    function(state) 
    end, 
    "HidesAnvils")

local t20 = Tools:AddToggle("AutoThrow", false, 
    function(state) 
    end, 
    "AutoThrows Anvil")

local b3 = Tools:AddButton("ClearSelected", 
    function() 
    end, 
    "Clears SelectedPlayer")

local b4 = Tools:AddButton("PunchSelected", 
    function() 
    end, 
    "Punches SelectedPlayer")

local t21 = Tools:AddToggle("AutoPunchSelected", false, 
    function(state) 
    end, 
    "AutoPunches SelectedPlayer")

local t22 = Tools:AddToggle("SpamBomb", false, 
    function(state) 
    end, 
    "SpamsBomb")

local t23 = Tools:AddToggle("BombFIingSelected", false, 
    function(state) 
    end, 
    "BombFIings SelectedPlayer")

local Global = Lib.AddPage("Global", "Show's Global Tab")

local t24 = Global:AddToggle("BreakMap", false, 
    function(state) 
    end, 
    "Breaks the Map")

local t25 = Global:AddToggle("LagServer", false, 
    function(state) 
    end, 
    "Lags The Whole Server")

local t26 = Global:AddToggle("DamageSound", false, 
    function(state) 
    end, 
    "Annoys Player(s) With the Loud Sound")

local t27 = Global:AddToggle("FIingMapItems", false, 
    function(state) 
    end, 
    "FIings All UnAnchored Items")

local t28 = Global:AddToggle("BugMap", false, 
    function(state) 
    end, 
    "BugsMap People Will Fall")

local Misc = Lib.AddPage("Misc", "Show's Misc Tab")

local b5 = Misc:AddButton("Big Jacket", 
    function() 
    end, 
    "Must Have Layered (Clothing, Jacket,)")

local b6 = Misc:AddButton("Legs FIing", 
    function() 
    end, 
    "Deletes your Torso and FIings People when Touch")

local t29 = Misc:AddToggle("BetterAnvil", false, 
    function(state) 
    end, 
    "Makes your Anvil Better And Stronger")

local t30 = Misc:AddToggle("Invisible", false, 
    function(state) 
    end, 
    "Makes you Invisible")

local t31 = Misc:AddToggle("PickViewer", false, 
    function(state) 
    end, 
    "Show's you Player(s) Picks")

local t32 = Misc:AddToggle("AutoSword", false, 
    function(state) 
    end, 
    "Auto Get's the Sword")

local t33 = Misc:AddToggle("AutoFarm", false, 
    function(state) 
    end, 
    "AutoFarm's Points")

local t34 = Misc:AddToggle("LowPing", false, 
    function(state) 
    end, 
    "Boost Internet and Lowers Ping")

local t35 = Misc:AddToggle("AntiV2All", false, 
    function(state) 
    end, 
    "Gives Everyone AntiFIingV2")

local t36 = Misc:AddToggle("AntiAnvil", false, 
    function(state) 
    end, 
    "FIings Anvils")

local b7 = Misc:AddButton("Spawn", 
    function() 
    end, 
    "Teleports to Spawn")

local b8 = Misc:AddButton("SafeZone", 
    function() 
    end, 
    "Teleports To SafeZone")

local t37 = Misc:AddToggle("ToolController", false, 
    function(state) 
    end, 
    "Hold a Tool and turn it on Morphs into a Tool")

local x7 = Misc:AddBox("SelectTarget", 
    function(text) 
    end, 
    "Selects a Target(s)")

local t38 = Misc:AddToggle("HatFIingTarget", false, 
    function(state) 
    end, 
    "FIings SelectedTarget with Your Hats")

local b9 = Misc:AddButton("BugTargetscreen", 
    function() 
    end, 
    "Bugs the Target Screen (Must Have Sword)")

local b8 = Misc:AddButton("SwordFIingTarget", 
    function() 
    end, 
    "SwordFIings Target (Must Have Sword)")

local Keybinds = Lib.AddPage("Keybinds", "Show's Keybinds Tab")

local x8 = Keybinds:AddBox("FIing: V", 
    function(text) 
    end, 
    "Type another Bind to Change")

local x9 = Keybinds:AddBox("FIingV2: B", 
    function(text) 
    end, 
    "Type another Bind to Change")

local x10 = Keybinds:AddBox("AutoPick: Q", 
    function(text) 
    end, 
    "Type another Bind to Change")

local x11 = Keybinds:AddBox("View: K", 
    function(text) 
    end, 
    "Type another Bind to Change")

local x12 = Keybinds:AddBox("HatFIing: C", 
    function(text) 
    end, 
    "Type another Bind to Change")

local x13 = Keybinds:AddBox("SpinFIing: N", 
    function(text) 
    end, 
    "Type another Bind to Change")

return Lib
